{"version":3,"sources":["core/useBaseApi.js","core/useApi.js","components/TruckBooking.js"],"names":["useBaseApi","useState","inProgress","setInProgress","result","useRef","invoke","endPoint","method","data","Promise","resolve","reject","a","requestBody","JSON","stringify","window","silentFetch","body","response","json","current","console","log","useApi","props","base","service","Option","Select","TextArea","Input","TruckBooking","Form","useForm","form","containerRef","api","useEffect","location","type","record","obj","permit_expiry_date","setFieldsValue","handleSubmit","value","vehicleDetails","Date","toLocaleDateString","status","resetFields","alert","ref","style","padding","onClick","history","goBack","marginBottom","fontSize","paddingTop","onFinish","xl","span","Item","name","rules","required","message","placeholder","maxLength","prefix","width","format","disabledDate","now","gutter","danger","htmlType"],"mappings":"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","file":"static/js/15.a4daa961.chunk.js","sourcesContent":["import React, { useRef, useState } from \"react\";\r\n// import CustomToast from \"../components/CustomToast\";\r\nimport silentFetch from \"./silentFetch\";\r\n\r\nconst useBaseApi = () => {\r\n  const [inProgress, setInProgress] = useState(false);\r\n  let result = useRef();\r\n  // let toast = CustomToast();\r\n  // const parseGenericRespone = (response) => {\r\n  //   switch (response.messageType) {\r\n  //     case \"WARNING\":\r\n  //       toast.toast(\"WARNING\", response.message);\r\n  //       return true;\r\n\r\n  //     case \"SUCCESS\":\r\n  //       toast.toast(\"SUCCESS\", response.message);\r\n  //       return true;\r\n\r\n  //     case \"ERROR\":\r\n  //       toast.toast(\"ERROR\", response.message);\r\n  //       return true;\r\n\r\n  //     default:\r\n  //       break;\r\n  //   }\r\n  // };\r\n  let invoke = (endPoint, method, data) => {\r\n    setInProgress(true);\r\n    return new Promise(async (resolve, reject) => {\r\n      let requestBody = null;\r\n      if (endPoint && method && data) {\r\n        requestBody = JSON.stringify({\r\n          data:data,\r\n        });\r\n      }\r\n      try {\r\n        let response = await window.silentFetch(endPoint, {\r\n          method: method || \"POST\",\r\n          body: requestBody,\r\n        });\r\n        result.current = await response.json();\r\n        // let toResolve = result.current;\r\n        resolve(result.current);\r\n        // if (toResolve) {\r\n        //   resolve(result.current);\r\n        // } else {\r\n        //   reject(result?.code);\r\n        // }\r\n        setInProgress(false);\r\n      } catch (error) {\r\n        console.log(error);\r\n      }\r\n    });\r\n  };\r\n\r\n  return {\r\n    invoke,\r\n    result: result.current,\r\n    inProgress,\r\n  };\r\n};\r\n\r\nexport default useBaseApi;\r\n","import React from \"react\";\r\nimport useBaseApi from \"./useBaseApi\";\r\n\r\nconst useApi = (props) => {\r\n  let base = useBaseApi();\r\n  let invoke = (service) => {\r\n    let { endPoint, method, data } = service;\r\n    return base.invoke(endPoint, method, data);\r\n  };\r\n  return {\r\n    invoke,\r\n    inProgress: base.inProgress,\r\n  };\r\n};\r\n\r\nexport default useApi;\r\n","import React, { useEffect, useRef } from \"react\";\r\nimport { Button, Col, DatePicker, Form, Input, Row, Select } from \"antd\";\r\nimport {\r\n  MailOutlined,\r\n  MobileOutlined,\r\n  UserOutlined,\r\n  CarOutlined,\r\n} from \"@ant-design/icons\";\r\nimport moment from \"moment\";\r\nimport useApi from \"src/core/useApi\";\r\n\r\nconst { Option } = Select;\r\nconst { TextArea } = Input;\r\n\r\nconst TruckBooking = (props) => {\r\n  const [form] = Form.useForm();\r\n  let containerRef = useRef();\r\n  let api = useApi();\r\n\r\n  useEffect(() => {\r\n    if(props?.location?.type === \"view\"){\r\n      console.log(props.location.record);\r\n      let obj={...props.location.record};\r\n      delete obj.permit_expiry_date;\r\n      form.setFieldsValue(obj);\r\n    }\r\n  }, [props?.location?.type]);\r\n  const handleSubmit = async (value) => {\r\n    let vehicleDetails={...value,permit_expiry_date:new Date(value.permit_expiry_date).toLocaleDateString()}\r\n    let response=await api.invoke({endPoint:\"http://localhost:8000/api/updateVehicle\",method:\"post\",data:vehicleDetails});\r\n    if(response.status===1){\r\n      form.resetFields();\r\n    }else{\r\n      alert('Something Went Wroung You Record Couldn`t able to create!');\r\n    }\r\n    console.log(\"called\", response);\r\n  };\r\n\r\n  const handleReset = () => {\r\n    form.resetFields();\r\n  };\r\n\r\n  return (\r\n    <div ref={containerRef} style={{ padding: \"20px 10px\" }}>\r\n      <Row>\r\n        \r\n        {props.location.type===\"view\"?<Button\r\n          onClick={()=>props.history.goBack()}\r\n          type=\"primary\"\r\n          style={{\r\n            marginBottom: 16,\r\n          }}\r\n        >\r\n          Back\r\n        </Button>:\r\n        <p style={{ fontSize: \"calc(10px + 1vmin)\" }}>Vehicle</p>}\r\n      </Row>\r\n      <Row>\r\n        <p style={{ fontSize: \"calc(10px + 1vmin)\" }}>Add New Truck Details</p>\r\n      </Row>\r\n      <hr />\r\n      <Form style={{ paddingTop: 20 }} form={form} onFinish={handleSubmit}>\r\n        <Row>\r\n          <Col xl={12}>\r\n            <Row>\r\n              <Col span={11}>\r\n                <label>Vechicle Provider *</label>\r\n              </Col>\r\n              <Col span={11}>\r\n                <Form.Item\r\n                  name=\"vehicle_provider\"\r\n                  rules={[\r\n                    {\r\n                      required: true,\r\n                      message: \"Please select vechicle provider!\",\r\n                    },\r\n                  ]}\r\n                >\r\n                  <Select placeholder=\"Select\">\r\n                    <Option value=\"Owned By Company\">Owned By Company</Option>\r\n                    <Option value=\"Third Party Carrier\">\r\n                      Third Party Carrier\r\n                    </Option>\r\n                  </Select>\r\n                </Form.Item>\r\n              </Col>\r\n            </Row>\r\n            <Row>\r\n              <Col span={11}>\r\n                <label>Work Service Location *</label>\r\n              </Col>\r\n              <Col span={11}>\r\n                <Form.Item\r\n                  name=\"service_loc\"\r\n                  rules={[\r\n                    {\r\n                      required: true,\r\n                      message: \"Please enter work service location!\",\r\n                    },\r\n                  ]}\r\n                >\r\n                  <Input placeholder=\"Work Service Location\" />\r\n                </Form.Item>\r\n              </Col>\r\n            </Row>\r\n            <Row>\r\n              <Col span={11}>\r\n                <label>Vehicle Number *</label>\r\n              </Col>\r\n              <Col span={11}>\r\n                <Form.Item\r\n                  name=\"vehicle_no\"\r\n                  rules={[\r\n                    { required: true, message: \"Please enter vehicle number!\" },\r\n                  ]}\r\n                >\r\n                  <Input\r\n                    placeholder=\"Vehicle Number\"\r\n                    maxLength={10}\r\n                    prefix={<CarOutlined />}\r\n                  />\r\n                </Form.Item>\r\n              </Col>\r\n            </Row>\r\n            <Row>\r\n              <Col span={11}>\r\n                <label>Transportation Type *</label>\r\n              </Col>\r\n              <Col span={11}>\r\n                <Form.Item\r\n                  name=\"transport_type\"\r\n                  rules={[\r\n                    {\r\n                      required: true,\r\n                      message: \"Please select transportation type!\",\r\n                    },\r\n                  ]}\r\n                >\r\n                  <Select placeholder=\"Select\">\r\n                    <Option value=\"In-Bound\">In-Bound</Option>\r\n                    <Option value=\"Out-Bound\">Out-Bound</Option>\r\n                  </Select>\r\n                </Form.Item>\r\n              </Col>\r\n            </Row>\r\n            <Row>\r\n              <Col span={11}>\r\n                <label>Vehicle Details *</label>\r\n              </Col>\r\n              <Col span={11}>\r\n                <Form.Item\r\n                  name=\"vehicle_details\"\r\n                  rules={[\r\n                    {\r\n                      required: true,\r\n                      message: \"Please enter vehicle details!\",\r\n                    },\r\n                  ]}\r\n                >\r\n                  <TextArea placeholder=\"Vehicle Details\" />\r\n                </Form.Item>\r\n              </Col>\r\n            </Row>\r\n            <Row>\r\n              <Col span={11}>\r\n                <label>Permit of States *</label>\r\n              </Col>\r\n              <Col span={11}>\r\n                <Form.Item\r\n                  name=\"permit\"\r\n                  rules={[\r\n                    {\r\n                      required: true,\r\n                      message: \"Please enter permit of states!\",\r\n                    },\r\n                  ]}\r\n                >\r\n                  <Input placeholder=\"Permit of States\" />\r\n                </Form.Item>\r\n              </Col>\r\n            </Row>\r\n            <Row>\r\n              <Col span={11}>\r\n                <label>Permit Expiry Date *</label>\r\n              </Col>\r\n              <Col span={11}>\r\n                <Form.Item\r\n                  name=\"permit_expiry_date\"\r\n                  rules={[\r\n                    {\r\n                      required: true,\r\n                      message: \"Please select permit expiry date!\",\r\n                    },\r\n                  ]}\r\n                >\r\n                  <DatePicker\r\n                    style={{ width: \"100%\" }}\r\n                    format=\"DD/MM/YYYY\"\r\n                    disabledDate={(current) => {\r\n                      return (\r\n                        current &&\r\n                        current < new Date(Date.now() - 24 * 60 * 60 * 1000)\r\n                      );\r\n                    }}\r\n                  />\r\n                </Form.Item>\r\n              </Col>\r\n            </Row>\r\n          </Col>\r\n        </Row>\r\n        <hr />\r\n        <Row gutter={16}>\r\n          <Col>\r\n            <Form.Item>\r\n              \r\n              {props.location.type===\"view\"?\"\":<Button type={\"primary\"} danger htmlType=\"submit\">\r\n                Submit\r\n              </Button>}\r\n            </Form.Item>\r\n          </Col>\r\n          \r\n          <Col>\r\n          {props.location.type===\"view\"?\"\":<Button onClick={handleReset}>Reset</Button>}\r\n          </Col>\r\n        </Row>\r\n      </Form>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default TruckBooking;\r\n"],"sourceRoot":""}