(this["webpackJsonp@coreui/coreui-free-react-admin-template"]=this["webpackJsonp@coreui/coreui-free-react-admin-template"]||[]).push([[9],{647:function(e,t,a){"use strict";var n=a(1),r=a(110),c=a.n(r),i=a(159),o=a(642),l=(a(162),function(){var e=Object(n.useState)(!1),t=Object(o.a)(e,2),a=t[0],r=t[1],l=Object(n.useRef)();return{invoke:function(e,t,a){return r(!0),new Promise(function(){var n=Object(i.a)(c.a.mark((function n(i,o){var s,d;return c.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return s=null,e&&t&&a&&(s=JSON.stringify({data:a})),n.prev=2,n.next=5,window.silentFetch(e,{method:t||"POST",body:s});case 5:return d=n.sent,n.next=8,d.json();case 8:l.current=n.sent,i(l.current),r(!1),n.next=16;break;case 13:n.prev=13,n.t0=n.catch(2),console.log(n.t0);case 16:case"end":return n.stop()}}),n,null,[[2,13]])})));return function(e,t){return n.apply(this,arguments)}}())},result:l.current,inProgress:a}});t.a=function(e){var t=l();return{invoke:function(e){var a=e.endPoint,n=e.method,r=e.data;return t.invoke(a,n,r)},inProgress:t.inProgress}}},666:function(e,t,a){"use strict";a.d(t,"a",(function(){return c}));var n=a(671);var r=a(672);function c(e){return function(e){if(Array.isArray(e))return Object(n.a)(e)}(e)||function(e){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||Object(r.a)(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}},705:function(e,t,a){"use strict";var n=a(666),r=a(164),c=a(165),i=a(167),o=a(166),l=a(110),s=a.n(l),d=a(159),u=a(163),b=a(48),j=a(642),f=a(160),p=a(1),m=a.n(p),h=a(976),O=a(978),v=a(953),x=a(669),y=a(974),g=a(956),w=a(20),S=m.a.createContext(null),I=function(e){e.index;var t=Object(f.a)(e,["index"]),a=h.a.useForm(),n=Object(j.a)(a,1)[0];return Object(w.jsx)(h.a,{form:n,component:!1,children:Object(w.jsx)(S.Provider,{value:n,children:Object(w.jsx)("tr",Object(b.a)({},t))})})},k=function(e){var t=e.title,a=e.editable,n=e.children,r=e.dataIndex,c=e.record,i=e.handleSave,o=Object(f.a)(e,["title","editable","children","dataIndex","record","handleSave"]),l=Object(p.useState)(!1),m=Object(j.a)(l,2),v=m[0],x=m[1],y=Object(p.useRef)(null),g=Object(p.useContext)(S);Object(p.useEffect)((function(){v&&y.current.focus()}),[v]);var I=function(){x(!v),g.setFieldsValue(Object(u.a)({},r,c[r]))},k=function(){var e=Object(d.a)(s.a.mark((function e(){var t;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,g.validateFields();case 3:t=e.sent,I(),i(Object(b.a)(Object(b.a)({},c),t)),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log("Save failed:",e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}(),C=n;return a&&(C=v?Object(w.jsx)(h.a.Item,{style:{margin:0},name:r,rules:[{required:!0,message:"".concat(t," is required.")}],children:Object(w.jsx)(O.a,{ref:y,onPressEnter:k,onBlur:k})}):Object(w.jsx)("div",{className:"editable-cell-value-wrap",style:{paddingRight:24},onClick:I,children:n})),Object(w.jsx)("td",Object(b.a)(Object(b.a)({},o),{},{children:C}))};m.a.Component},719:function(e,t,a){"use strict";var n=a(666),r=a(164),c=a(165),i=a(167),o=a(166),l=a(163),s=a(110),d=a.n(s),u=a(159),b=a(48),j=a(642),f=a(160),p=a(1),m=a.n(p),h=a(781),O=a(976),v=a(978),x=a(953),y=a(669),g=a(974),w=a(956),S=(a(720),a(647)),I=a(20),k=m.a.createContext(null),C=h.a.Option,_=function(e){e.index;var t=Object(f.a)(e,["index"]),a=O.a.useForm(),n=Object(j.a)(a,1)[0];return Object(I.jsx)(O.a,{form:n,component:!1,children:Object(I.jsx)(k.Provider,{value:n,children:Object(I.jsx)("tr",Object(b.a)({},t))})})},N=function(e){var t=e.title,a=e.editable,n=e.children,r=e.dataIndex,c=e.record,i=e.handleSave,o=Object(f.a)(e,["title","editable","children","dataIndex","record","handleSave"]),s=Object(p.useState)(!1),m=Object(j.a)(s,2),x=m[0],y=m[1],g=Object(p.useRef)(null),w=Object(p.useContext)(k),_=Object(S.a)();Object(p.useEffect)((function(){x&&g.current.focus()}),[x]);var N=Object(p.useState)([]),E=Object(j.a)(N,2),P=E[0],T=E[1];Object(p.useEffect)((function(){D()}),[]);var D=function(){var e=Object(u.a)(d.a.mark((function e(){var t;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_.invoke({endPoint:"http://localhost:8000/api/customers",method:"get"});case 2:t=e.sent,T(t),console.log("response",t);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),q=function(){y(!x),w.setFieldsValue(Object(l.a)({},r,c[r]))},F=function(){var e=Object(u.a)(d.a.mark((function e(){var t;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,w.validateFields();case 3:t=e.sent,q(),i(Object(b.a)(Object(b.a)({},c),t)),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log("Save failed:",e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}(),R=n;if(a)if(x)switch(r){case"party_name":R=Object(I.jsx)(O.a.Item,{style:{margin:0},name:r,rules:[{required:!0,message:"".concat(t," is required.")}],children:Object(I.jsx)(h.a,{ref:g,onChange:F,children:P.map((function(e){return Object(I.jsx)("option",{value:"".concat(e.name),children:e.name})}))})});break;case"gst":R=Object(I.jsx)(O.a.Item,{style:{margin:0},name:r,rules:[{required:!0,message:"".concat(t," is required.")}],children:Object(I.jsxs)(h.a,{ref:g,onChange:F,children:[Object(I.jsx)(C,{value:"yes",children:"YES"}),Object(I.jsx)(C,{value:"no",children:"NO"})]})});break;default:R=Object(I.jsx)(O.a.Item,{style:{margin:0},name:r,rules:[{required:!0,message:"".concat(t," is required.")}],children:Object(I.jsx)(v.a,{ref:g,onPressEnter:F,onBlur:F})})}else R=Object(I.jsx)("div",{className:"editable-cell-value-wrap",style:{paddingRight:24},onClick:q,children:n});return Object(I.jsx)("td",Object(b.a)(Object(b.a)({},o),{},{children:R}))},E=function(e){Object(i.a)(a,e);var t=Object(o.a)(a);function a(e){var c;return Object(r.a)(this,a),(c=t.call(this,e)).handleDelete=function(e){var t=Object(n.a)(c.state.dataSource);c.setState({dataSource:t.filter((function(t){return t.key!==e}))})},c.handleAdd=function(){var e=c.state,t=e.count,a=e.dataSource,r={key:t,vehicle_no:"",dc_no:"",from_loc:"",to_loc:"",material:"",party_name:"",rate:"",scale:"",weight:"",gst:"",payment_type:"",diesel_rt:"",diesel_qty:"",loading_quantity:"",accepted_quantity:"",logistic_rent:"",lead:"",date:"",puc:"",total_amount:"",expences:"",driver_name:"",profit:""};c.setState({dataSource:[].concat(Object(n.a)(a),[r]),count:t+1})},c.handleSave=function(e){var t=Object(n.a)(c.state.dataSource),a=t.findIndex((function(t){return e.key===t.key})),r=t[a];t.splice(a,1,Object(b.a)(Object(b.a)({},r),e)),c.setState({dataSource:t},(function(){return c.props.getTableData(c.state.dataSource)}))},c.columns=[{title:"* Vehicle No",dataIndex:"vehicle_no",editable:!0,width:"200"},{title:"* DC.NO",dataIndex:"dc_no",editable:!0,width:"200"},{title:"* From",dataIndex:"from_loc",editable:!0,width:"200"},{title:"* To",dataIndex:"to_loc",editable:!0,width:"200"},{title:"* Material",dataIndex:"material",editable:!0,width:"200"},{title:"* Party Name",dataIndex:"party_name",editable:!0,width:"200"},{title:"* Rate",dataIndex:"rate",editable:!0,width:"200"},{title:"* Weight",dataIndex:"weight",editable:!0,width:"200"},{title:"* GST",dataIndex:"gst",editable:!0,width:"200"},{title:"* Payment Type",dataIndex:"payment_type",editable:!0,width:"200"},{title:"* Diseal Rate",dataIndex:"diesel_rt",editable:!0,width:"200"},{title:"* Diseal Qty",dataIndex:"diesel_qty",editable:!0,width:"200"},{title:"* Loading Quantity",dataIndex:"loading_quantity",editable:!0,width:"200"},{title:"* Accepted Quantity",dataIndex:"accepted_quantity",editable:!0,width:"200"},{title:"* Logistic Rent",dataIndex:"logistic_rent",editable:!0,width:"200"},{title:"* Lead",dataIndex:"lead",editable:!0,width:"200"},{title:"* Date",dataIndex:"date",editable:!0,width:"200"},{title:"* PUC",dataIndex:"puc",editable:!0,width:"200"},{title:"* Expences",dataIndex:"expences",editable:!0,width:"200"},{title:"* Driver Name",dataIndex:"driver_name",editable:!0,width:"200"},{title:"* Profit",dataIndex:"profit",editable:!0,width:"200"},{title:"* Tot Amt",dataIndex:"total_amount",editable:!0,width:"200"},{title:"",dataIndex:"operation",render:function(e,t){return c.state.dataSource.length>=1?Object(I.jsx)(x.a,{title:"Sure to delete?",onConfirm:function(){return c.handleDelete(t.key)},children:Object(I.jsx)(w.a,{style:{color:"black"}})}):null}}],c.state={dataSource:[],count:2},c}return Object(c.a)(a,[{key:"componentDidUpdate",value:function(e,t){JSON.stringify(e.rowData)!==JSON.stringify(this.props.rowData)&&this.setState({dataSource:this.props.rowData})}},{key:"render",value:function(){var e=this,t=this.state.dataSource,a={body:{row:_,cell:N}},n=this.columns.map((function(t){return t.editable?Object(b.a)(Object(b.a)({},t),{},{onCell:function(a){return{record:a,editable:t.editable,dataIndex:t.dataIndex,title:t.title,handleSave:e.handleSave,width:t.width}}}):t}));return Object(I.jsxs)("div",{style:{width:"100%"},children:[this.props.view?"":Object(I.jsx)(y.a,{onClick:this.handleAdd,type:"primary",style:{marginBottom:16},children:"Add a row"}),Object(I.jsx)(g.a,{components:a,className:"editingTable",rowClassName:function(){return"editable-row"},bordered:!0,dataSource:t,columns:n,pagination:!1,scroll:{x:4200}})]})}}]),a}(m.a.Component);t.a=E},720:function(e,t,a){},758:function(e,t,a){"use strict";var n=a(950);t.a=n.a},953:function(e,t,a){"use strict";var n=a(13),r=a(627),c=a(1),i=a(625),o=a.n(i),l=a(655),s=a(726),d=a(651),u=a(685),b=a(669),j=a(725),f=a(667),p=a(686),m=a(786),h=a(646),O=a(679),v=void 0,x=function(e,t){var a={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(a[n]=e[n]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var r=0;for(n=Object.getOwnPropertySymbols(e);r<n.length;r++)t.indexOf(n[r])<0&&Object.prototype.propertyIsEnumerable.call(e,n[r])&&(a[n[r]]=e[n[r]])}return a},y=c.forwardRef((function(e,t){var a=Object(l.a)(!1,{value:e.visible,defaultValue:e.defaultVisible}),i=Object(r.a)(a,2),s=i[0],y=i[1],g=function(t,a){var n;y(t),null===(n=e.onVisibleChange)||void 0===n||n.call(e,t,a)},w=function(t){var a;g(!1,t),null===(a=e.onConfirm)||void 0===a||a.call(v,t)},S=function(t){var a;g(!1,t),null===(a=e.onCancel)||void 0===a||a.call(v,t)},I=c.useContext(m.b).getPrefixCls,k=e.prefixCls,C=e.placement,_=e.children,N=e.overlayClassName,E=x(e,["prefixCls","placement","children","overlayClassName"]),P=I("popover",k),T=I("popconfirm",k),D=o()(T,N),q=c.createElement(f.a,{componentName:"Popconfirm",defaultLocale:p.a.Popconfirm},(function(t){return function(t,a){var r,i=e.okButtonProps,o=e.cancelButtonProps,l=e.title,s=e.cancelText,d=e.okText,u=e.okType,f=e.icon;return c.createElement("div",{className:"".concat(t,"-inner-content")},c.createElement("div",{className:"".concat(t,"-message")},f,c.createElement("div",{className:"".concat(t,"-message-title")},(r=l)?"function"===typeof r?r():r:null)),c.createElement("div",{className:"".concat(t,"-buttons")},c.createElement(b.a,Object(n.a)({onClick:S,size:"small"},o),s||a.cancelText),c.createElement(b.a,Object(n.a)({onClick:w},Object(j.a)(u),{size:"small"},i),d||a.okText)))}(P,t)})),F=I();return c.createElement(u.a,Object(n.a)({},E,{prefixCls:P,placement:C,onVisibleChange:function(t){e.disabled||g(t)},visible:s,overlay:q,overlayClassName:D,ref:t,transitionName:Object(O.b)(F,"zoom-big",e.transitionName)}),Object(h.a)(_,{onKeyDown:function(e){var t,a;c.isValidElement(_)&&(null===(a=null===_||void 0===_?void 0:(t=_.props).onKeyDown)||void 0===a||a.call(t,e)),function(e){e.keyCode===d.a.ESC&&s&&g(!1,e)}(e)}}))}));y.defaultProps={placement:"top",trigger:"click",okType:"primary",icon:c.createElement(s.a,null),disabled:!1};t.a=y},956:function(e,t,a){"use strict";var n=a(1),r={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M360 184h-8c4.4 0 8-3.6 8-8v8h304v-8c0 4.4 3.6 8 8 8h-8v72h72v-80c0-35.3-28.7-64-64-64H352c-35.3 0-64 28.7-64 64v80h72v-72zm504 72H160c-17.7 0-32 14.3-32 32v32c0 4.4 3.6 8 8 8h60.4l24.7 523c1.6 34.1 29.8 61 63.9 61h454c34.2 0 62.3-26.8 63.9-61l24.7-523H888c4.4 0 8-3.6 8-8v-32c0-17.7-14.3-32-32-32zM731.3 840H292.7l-24.2-512h487l-24.2 512z"}}]},name:"delete",theme:"outlined"},c=a(637),i=function(e,t){return n.createElement(c.a,Object.assign({},e,{ref:t,icon:r}))};i.displayName="DeleteOutlined";t.a=n.forwardRef(i)},957:function(e,t,a){"use strict";var n=a(1),r={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M858.5 763.6a374 374 0 00-80.6-119.5 375.63 375.63 0 00-119.5-80.6c-.4-.2-.8-.3-1.2-.5C719.5 518 760 444.7 760 362c0-137-111-248-248-248S264 225 264 362c0 82.7 40.5 156 102.8 201.1-.4.2-.8.3-1.2.5-44.8 18.9-85 46-119.5 80.6a375.63 375.63 0 00-80.6 119.5A371.7 371.7 0 00136 901.8a8 8 0 008 8.2h60c4.4 0 7.9-3.5 8-7.8 2-77.2 33-149.5 87.8-204.3 56.7-56.7 132-87.9 212.2-87.9s155.5 31.2 212.2 87.9C779 752.7 810 825 812 902.2c.1 4.4 3.6 7.8 8 7.8h60a8 8 0 008-8.2c-1-47.8-10.9-94.3-29.5-138.2zM512 534c-45.9 0-89.1-17.9-121.6-50.4S340 407.9 340 362c0-45.9 17.9-89.1 50.4-121.6S466.1 190 512 190s89.1 17.9 121.6 50.4S684 316.1 684 362c0 45.9-17.9 89.1-50.4 121.6S557.9 534 512 534z"}}]},name:"user",theme:"outlined"},c=a(637),i=function(e,t){return n.createElement(c.a,Object.assign({},e,{ref:t,icon:r}))};i.displayName="UserOutlined";t.a=n.forwardRef(i)},966:function(e,t,a){"use strict";a.r(t);var n=a(666),r=a(110),c=a.n(r),i=a(159),o=a(642),l=a(1),s=a(781),d=a(976),u=a(758),b=a(967),j=a(978),f=a(669),p=a(957),m=(a(673),a(705),a(719)),h=a(647),O=a(20);s.a.Option;t.default=function(e){var t,a=d.a.useForm(),r=Object(o.a)(a,1)[0],s=Object(l.useRef)(),v=Object(h.a)(),x=Object(l.useState)([]),y=Object(o.a)(x,2),g=(y[0],y[1]),w=Object(l.useState)([]),S=Object(o.a)(w,2),I=S[0],k=S[1];Object(l.useEffect)((function(){window.matchMedia("(min-width: 768px)").matches&&(s.current.style.padding="20px 60px")}),[]),Object(l.useEffect)((function(){var t;"view"===(null===e||void 0===e||null===(t=e.location)||void 0===t?void 0:t.type)&&(r.setFieldsValue(e.location.record),g(JSON.parse(e.location.record.items)),k(e.location.record.vehicle_details))}),[null===e||void 0===e||null===(t=e.location)||void 0===t?void 0:t.type]);var C=function(){var e=Object(i.a)(c.a.mark((function e(t){var a,n;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={vehicle_details:I},console.log("upload",a),e.next=4,v.invoke({endPoint:"http://localhost:8000/api/addBooking",method:"post",data:a});case 4:1===(n=e.sent).status?(r.resetFields(),k([])):alert("Something Went Wroung You Booking Couldn`t able to create!"),console.log("called",n);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(O.jsxs)("div",{ref:s,style:{padding:"20px 10px"},children:[Object(O.jsx)("div",{className:"file_upload",children:Object(O.jsxs)(d.a,{style:{paddingTop:20,paddingLeft:180},children:[Object(O.jsxs)(u.a,{children:[Object(O.jsx)(b.a,{span:5,children:Object(O.jsx)("label",{children:"Name *"})}),Object(O.jsx)(b.a,{span:11,children:Object(O.jsx)(d.a.Item,{name:"name",rules:[{required:!0,message:"Please enter your name!"}],children:Object(O.jsx)(j.a,{placeholder:"Name",prefix:Object(O.jsx)(p.a,{}),id:"name"})})})]}),Object(O.jsxs)(u.a,{children:[Object(O.jsx)(b.a,{span:5,children:Object(O.jsx)("label",{children:"Images *"})}),Object(O.jsx)(b.a,{span:11,children:Object(O.jsx)("input",{type:"file",multiple:"true",class:"form-control-file border",id:"images"})})]}),Object(O.jsx)(b.a,{span:11,children:Object(O.jsx)(d.a.Item,{children:Object(O.jsx)(f.a,{style:{marginLeft:"80%",marginTop:"5px"},type:"primary",danger:!0,htmlType:"submit",onClick:function(e){var t=document.getElementById("images").files,a=document.getElementById("name").value,n=new FormData;n.append("images",t),n.append("name",a),fetch("http://localhost:8000/api/uploadFile",{method:"POST",body:n}).then((function(e){return e.json()})).catch((function(e){return console.error("Error:",e)})).then((function(e){return console.log("Success:",e)}))},children:"Submit"})})})]})}),Object(O.jsxs)(u.a,{children:[Object(O.jsx)(m.a,{getTableData:function(e){var t=Object(n.a)(e),a=t.pop();if(parseInt(a.rate)&&parseInt(a.weight)){var r=parseInt(a.rate)*parseInt(a.weight);a.total_amount=r}if("yes"===a.gst&&a.total_amount){var c=a.total_amount+5*a.total_amount/100;a.total_amount=c.toFixed(2)}console.log("data",t,a),k([].concat(Object(n.a)(t),[a]))},rowData:I,view:"view"===e.location.type}),Object(O.jsx)("hr",{}),"view"===e.location.type?"":Object(O.jsxs)(u.a,{gutter:16,children:[Object(O.jsx)(b.a,{children:Object(O.jsx)(d.a.Item,{children:Object(O.jsx)(f.a,{onClick:C,type:"primary",danger:!0,htmlType:"submit",children:"Submit"})})}),Object(O.jsx)(b.a,{children:Object(O.jsx)(f.a,{onClick:function(){r.resetFields(),g([])},children:"Reset"})})]})]})]})}}}]);
//# sourceMappingURL=9.03f85497.chunk.js.map